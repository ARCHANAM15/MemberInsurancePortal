<div class=row style="padding-top:30px ;">
    <div class="col-4 m-auto">
        <div class="card">
            <div class="card-title">
                <br>
                <h5 style="color: black;padding-left: 20px; text-align: center;">Policy Submission</h5>
            </div>
            <div class="card-body">
                -
                <!--<form [formGroup]=poicySubmitModel.formPolicyGroup>-->
                <div class="form-group col-12">
                    <div class="col-sm-2"><label>MemberId:</label></div>
                    <div class="col-sm-2">
                        <p> {{memberid}}</p>
                    </div>
                    <div class="col-sm-2"><label>PolicyId:</label></div>
                    <div class="col-sm-3">
                        <p>{{pid}}</p>
                    </div>
                </div>

                <div class="form-group col-12">
                    <label>Policy Type</label>
                    <select class="form-control" [(ngModel)]="poicySubmitModel.policyType"
                        placeholder="Select PolicyType" #policyType="ngModel" aria-label="Default select example" required>
                        <option selected>Select PolicyType</option>
                        <option value="Life Insurance">Life Insurance</option>
                        <option value="Car Insurance">Car Insurance</option>
                        <option value="Health Insurance">Health Insurance</option>
                        <option value="Property Insurance">Property Insurance</option>
                    </select>
                    <div *ngIf="policyType.invalid && (policyType.dirty || policyType.touched)" class="alert">
                        <div *ngIf="policyType.errors?.['required']">
                            <p style="color: red;">policyType is required.</p>
                        </div>
                    </div>

                </div>


                <br>
                <div class="form-group col-12">
                    <label>Premium Amount</label>
                    <input type="text" [(ngModel)]="poicySubmitModel.premiumAmount" #premiumAmount="ngModel"
                        class="form-control"  placeholder="Enter premiumAmount" required>
                    <div *ngIf="premiumAmount.invalid && (premiumAmount.dirty || premiumAmount.touched)" class="alert">
                        <div *ngIf="premiumAmount.errors?.['required']">
                            <p style="color: red;">Premiumamount is required.</p>
                        </div>
                    </div>
                </div>
                <br>

                <div class="form-group col-12">
                    <label>Effective Date</label>
                    <input type="date" [(ngModel)]="poicySubmitModel.effectiveDate" class="form-control" #effectiveDate="ngModel" required>
                    <div *ngIf="effectiveDate.invalid && (premiumAmount.dirty || effectiveDate.touched)" class="alert">
                        <div *ngIf="effectiveDate.errors?.['required']">
                            <p style="color: red;">EffectiveDate is required.</p>
                        </div>
                    </div>
                </div>
                
                <br>

                <div class="form-group col-12">
                    <label>Remark</label>
                    <textarea [(ngModel)]="poicySubmitModel.remark" class="form-control" placeholder="Enter the remark" #remark="ngModel" required></textarea>
                    <div *ngIf="remark.invalid && (remark.dirty || remark.touched)" class="alert">
                        <div *ngIf="remark.errors?.['required']">
                            <p style="color: red;">Remark is required.</p>
                        </div>
                    </div>
                </div>
                <br>

                <div class="form-group col-12">
                    <label>Policy Status</label>
                    <select class="form-select" [(ngModel)]="poicySubmitModel.statusId" placeholder="Select Status"
                        aria-label="Default select example" #statusId="ngModel" required>
                        <option selected>Policy Status</option>
                        <option *ngFor="let phy of policystatuslist" value={{phy.statusId}}>
                            {{phy.statusDescription}}
                        </option>
                    </select>
                    <div *ngIf="statusId.invalid && (statusId.dirty || statusId.touched)" class="alert">
                        <div *ngIf="statusId.errors?.['required']">
                            <p style="color: red;">PolicyStatus is required.</p>
                        </div>
                    </div>
                </div>
                <br>

                <div class="form-group col-12">
                    <div class="row">
                        <div class="container">
                            <button mat-raised-button type="button" class="btn btn-outline btn-primary"
                                style="width: 100%;" (click)="submitPolicy($event)">Add Policy</button>
                            <p class="small fw-bold mt-2 pt-1 mb-0"><a class="link-primary"
                                    (click)="backToSearch()">Back to Search</a>
                            </p>

                        </div>
                    </div>
                </div>
                <!--</form>-->
            </div>

        </div>

    </div>
</div>

<div class="row">
    <div class="col-md-5"></div>
    <div *ngIf="policyaddalert" class="col-md-4 alert alert-primary" role="alert">&nbsp;
        Policy has been created successfully! Your policy Number is:{{PNO}}
        &nbsp;&nbsp;&nbsp; <button type="button" (click)="closealert()" style="width:1px;"
            class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>

    </div>
</div>

<div class="row">
    <div class="col-md-5"></div>
    <div *ngIf="policyexistalert" class="col-md-4 alert alert-primary" role="alert">&nbsp;
        {{errorMsg}}
        &nbsp;&nbsp;&nbsp; <button type="button" (click)="closealert()" style="width:1px;"
            class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>

    </div>
</div>